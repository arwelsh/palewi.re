{% extends "coltrane/base.html" %}
{% load coltrane_tags %}

{% block title %}photos . {{ block.super }}{% endblock %}

{% block extrahead %}
{% ifequal page 1 %}
<script type="text/javascript" src="/media/jquery.galleriffic.min.js"></script>
<script type="text/javascript">
// Initially set opacity on thumbs and add
// additional styling for hover effect on thumbs
var onMouseOutOpacity = 0.67;
$('#thumbs ul.thumbs li').css('opacity', onMouseOutOpacity)
	.hover(
		function () {
			$(this).not('.selected').fadeTo('fast', 1.0);
		}, 
		function () {
			$(this).not('.selected').fadeTo('fast', onMouseOutOpacity);
		}
	);
</script>
{% endifequal %}
{% endblock %}

{% block extradocready %}
{% ifequal page 1 %}
	// We only want these styles applied when javascript is enabled
	$('div.content').css('display', 'block');

	{% include "coltrane/photo_gallery.js" %}
{% endifequal %}
{% endblock %}

{% block content %}
	<div class="interiorlist">
		
		<h2><img style="vertical-align:text-bottom;" src="/media/icons/photos.gif" alt="photos"/>&nbsp;Photos</h2>

		{% ifequal page 1 %}
		<h2 style="font-size:1.3em;">Favorite photos</h2>
		
		<div id="photogallery">
			
			{% include "coltrane/photo_gallery.html" %}

		</div>

		<div style="clear:both; height:1.5em;"></div>
		{% endifequal %}

		<h2 style="font-size:1.3em;">Latest photos</h2>

		<ul>
		{% for object in object_list %}
			{% ifchanged object.pub_date.day %}
					<li class="interior-date">{{ object.pub_date|date:"F d, Y" }}</li>
			{% endifchanged %}
			<li>
				<a href="{{ object.url }}">
				{{ object.pub_date|date:"H:i" }}&nbsp;&nbsp;&nbsp;{{ object }}
				</a> 
			</li>
		{% endfor %}
		</ul>
	</div>
	
	{% include 'coltrane/pagination.html' %}
	
{% endblock %}
